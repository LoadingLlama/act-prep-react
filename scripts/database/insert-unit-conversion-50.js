require('dotenv').config();
const { createClient } = require('@supabase/supabase-js');

const supabaseUrl = process.env.REACT_APP_SUPABASE_URL;
const supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

if (!supabaseUrl || !supabaseServiceRoleKey) {
  console.error('Missing Supabase credentials');
  process.exit(1);
}

const supabase = createClient(supabaseUrl, supabaseServiceRoleKey);

const LESSON_KEY = '5.4';

const questions = [
  {pos:1,diff:'hard',text:'A car travels at 72 kilometers per hour. What is this speed in meters per second?',ch:[{letter:'A',text:'20 m/s'},{letter:'B',text:'25 m/s'},{letter:'C',text:'18 m/s'},{letter:'D',text:'30 m/s'}],ans:'A',sol:'**Convert km/h to m/s using conversion factors.**\n\nWe need to convert kilometers to meters AND hours to seconds simultaneously. The key is to set up the conversion factors so unwanted units cancel:\n```\n72 km/h × (1000 m / 1 km) × (1 h / 3600 s)\n```\nNotice how km cancels with km, and h cancels with h:\n```\n= 72 × 1000 / 3600 m/s\n= 72,000 / 3600 m/s\n= 20 m/s\n```\n**Why this works:** When converting compound units (like speed), multiply by conversion factors arranged so the old units cancel and new units remain. The km in the numerator cancels with km in the denominator of the first fraction, and h in the denominator cancels with h in the numerator of the second fraction.'},

  {pos:2,diff:'hard',text:'A rectangular room is 4.5 meters by 6 meters. What is its area in square centimeters?',ch:[{letter:'A',text:'270,000 cm²'},{letter:'B',text:'27,000 cm²'},{letter:'C',text:'2,700 cm²'},{letter:'D',text:'2,700,000 cm²'}],ans:'A',sol:'**Convert linear dimensions first, then calculate area.**\n\n**Critical insight:** When converting area units, you must convert the linear dimensions BEFORE multiplying, OR square the conversion factor if converting the area directly.\n\n**Method 1 - Convert dimensions first:**\n```\n4.5 m = 4.5 × 100 = 450 cm\n6 m = 6 × 100 = 600 cm\nArea = 450 cm × 600 cm = 270,000 cm²\n```\n**Method 2 - Convert area directly:**\n```\nArea in m² = 4.5 × 6 = 27 m²\nConvert: 27 m² × (100 cm/m)² = 27 × 10,000 = 270,000 cm²\n```\n**Common mistake:** Using 100 instead of 10,000 when converting m² to cm². Remember: (100)² = 10,000, not 100!'},

  {pos:3,diff:'hard',text:'If 1 inch equals 2.54 centimeters, how many inches are in 1 meter?',ch:[{letter:'A',text:'39.37 inches'},{letter:'B',text:'25.4 inches'},{letter:'C',text:'100 inches'},{letter:'D',text:'50.8 inches'}],ans:'A',sol:'**Convert to a common unit, then use the conversion factor.**\n\n**Step 1:** Convert meters to centimeters (matching the units in our given conversion):\n```\n1 m = 100 cm\n```\n**Step 2:** Ask "How many 2.54-cm segments fit into 100 cm?" This is division:\n```\n100 cm ÷ 2.54 cm/inch = 100/2.54 inches\n= 39.37 inches (approximately)\n```\n**Why division?** We divide because we want to know how many units of 2.54 fit into 100. Think of it like: "If each inch takes up 2.54 cm, how many inches fill 100 cm?" The cm units cancel, leaving inches.'},

  {pos:4,diff:'hard',text:'A cube has a volume of 8000 cubic centimeters. What is its volume in liters?',ch:[{letter:'A',text:'8 liters'},{letter:'B',text:'80 liters'},{letter:'C',text:'0.8 liters'},{letter:'D',text:'800 liters'}],ans:'A',sol:'**Use the standard volume conversion: 1 liter = 1000 cm³.**\n\nThis is a direct conversion between volume units:\n```\n8000 cm³ × (1 L / 1000 cm³)\n= 8000 / 1000 L\n= 8 L\n```\n**Key fact to remember:** 1 liter is defined as exactly 1000 cubic centimeters. This is equivalent to a 10 cm × 10 cm × 10 cm cube, since 10³ = 1000.\n\n**Why we divide:** We have 8000 cm³ and want to group them into 1000-cm³ units (liters). Division tells us how many groups: 8000 ÷ 1000 = 8 groups.'},

  {pos:5,diff:'hard',text:'A runner completes a 10-kilometer race in 45 minutes. What is the average speed in miles per hour? (1 mile ≈ 1.609 km)',ch:[{letter:'A',text:'8.29 mph'},{letter:'B',text:'13.33 mph'},{letter:'C',text:'10.75 mph'},{letter:'D',text:'6.21 mph'}],ans:'A',sol:'**Convert distance to miles and time to hours, then calculate speed.**\n\n**Step 1:** Convert kilometers to miles:\n```\n10 km ÷ 1.609 km/mile = 6.214 miles\n```\n**Step 2:** Convert minutes to hours:\n```\n45 min ÷ 60 min/hour = 0.75 hours\n```\n**Step 3:** Calculate speed:\n```\nSpeed = distance / time = 6.214 miles / 0.75 hours\n= 8.29 mph\n```\n**Important concept:** Speed = distance/time. We must convert BOTH distance and time to the target units before dividing. We convert km to miles using division (not multiplication) because 1.609 km makes 1 mile, so we ask "how many miles in 10 km?"'},

  {pos:6,diff:'hard',text:'How many square feet are in 2 square yards?',ch:[{letter:'A',text:'18 sq ft'},{letter:'B',text:'6 sq ft'},{letter:'C',text:'9 sq ft'},{letter:'D',text:'12 sq ft'}],ans:'A',sol:'**Square the linear conversion factor when converting area units.**\n\n**Step 1:** Find the linear conversion:\n```\n1 yard = 3 feet\n```\n**Step 2:** Square both sides for area conversion:\n```\n(1 yard)² = (3 feet)²\n1 yard² = 9 feet²\n```\n**Step 3:** Apply to our problem:\n```\n2 yard² × (9 feet²/yard²) = 18 feet²\n```\n**Critical principle:** Area scales with the SQUARE of the linear dimension. If 1 yd = 3 ft, then a 1-yd-by-1-yd square equals a 3-ft-by-3-ft square = 9 sq ft, not 3 sq ft!'},

  {pos:7,diff:'hard',text:'A swimming pool holds 50,000 gallons. If 1 gallon equals approximately 3.785 liters, how many liters does the pool hold?',ch:[{letter:'A',text:'189,250 liters'},{letter:'B',text:'132,100 liters'},{letter:'C',text:'13,210 liters'},{letter:'D',text:'1,892,500 liters'}],ans:'A',sol:'**Multiply by the conversion factor to convert gallons to liters.**\n\n```\n50,000 gallons × 3.785 liters/gallon\n= 189,250 liters\n```\n**Reasoning:** Each gallon contains 3.785 liters. With 50,000 gallons, we multiply to find the total liters. The gallon units cancel:\n```\ngallons × (liters/gallon) = liters\n```\n**Common mistake:** Dividing instead of multiplying. Remember: if converting TO a smaller unit (gallons → liters), the number gets larger, so multiply.'},

  {pos:8,diff:'hard',text:'If water flows at a rate of 15 liters per minute, how many cubic meters flow in one hour?',ch:[{letter:'A',text:'0.9 m³'},{letter:'B',text:'9 m³'},{letter:'C',text:'90 m³'},{letter:'D',text:'900 m³'}],ans:'A',sol:'**Convert the rate to total volume, then convert units.**\n\n**Step 1:** Find total volume in one hour:\n```\n15 L/min × 60 min = 900 L\n```\n**Step 2:** Convert liters to cubic meters:\n```\n1000 L = 1 m³\n900 L = 900 / 1000 = 0.9 m³\n```\n**Key relationship:** 1 m³ = 1000 L because 1 m³ = (100 cm)³ = 1,000,000 cm³ = 1000 L (since 1 L = 1000 cm³).\n\n**Why this makes sense:** A cubic meter is quite large (imagine a box 1m × 1m × 1m), so 900 liters being less than 1 cubic meter is reasonable.'},

  {pos:9,diff:'hard',text:'A temperature of 68°F is equal to what temperature in Celsius? Use *C* = (*F* - 32) × 5/9.',ch:[{letter:'A',text:'20°C'},{letter:'B',text:'25°C'},{letter:'C',text:'15°C'},{letter:'D',text:'30°C'}],ans:'A',sol:'**Apply the Fahrenheit-to-Celsius formula step by step.**\n\n```\n*C* = (*F* - 32) × 5/9\n*C* = (68 - 32) × 5/9\n*C* = 36 × 5/9\n```\nTo calculate 36 × 5/9, simplify first:\n```\n36 × 5/9 = (36/9) × 5 = 4 × 5 = 20°C\n```\n**Understanding the formula:** The -32 adjusts for the different zero points (water freezes at 32°F but 0°C). The 5/9 accounts for the different degree sizes (180 Fahrenheit degrees = 100 Celsius degrees between freezing and boiling, so 180/100 = 9/5, and we invert to get 5/9).\n\n**Verification:** Room temperature is around 68-70°F or 20-21°C, so our answer makes sense.'},

  {pos:10,diff:'hard',text:'A wire is 3.5 feet long. What is its length in inches?',ch:[{letter:'A',text:'42 inches'},{letter:'B',text:'35 inches'},{letter:'C',text:'48 inches'},{letter:'D',text:'36 inches'}],ans:'A',sol:'**Multiply by 12 to convert feet to inches.**\n\n```\n3.5 feet × 12 inches/foot = 42 inches\n```\n**Reasoning:** There are 12 inches in each foot. The foot units cancel:\n```\nfeet × (inches/foot) = inches\n```\n**Alternative approach - convert the decimal:**\n```\n3 feet = 36 inches\n0.5 feet = 6 inches\nTotal = 36 + 6 = 42 inches\n```\nBoth methods work. The key is knowing 1 ft = 12 in exactly.'},

  {pos:11,diff:'hard',text:'How many grams are in 2.5 kilograms?',ch:[{letter:'A',text:'2500 g'},{letter:'B',text:'250 g'},{letter:'C',text:'25 g'},{letter:'D',text:'25,000 g'}],ans:'A',sol:'**Multiply by 1000 to convert kilograms to grams.**\n\n```\n2.5 kg × 1000 g/kg = 2500 g\n```\n**Understanding:** The prefix "kilo-" means 1000. Therefore 1 kilogram = 1000 grams by definition.\n\n**Pattern recognition:** When converting from a larger unit to a smaller unit, the numerical value increases. We have 2.5 of the large unit (kg) and get 2500 of the small unit (g).'},

  {pos:12,diff:'hard',text:'A rectangular field is 200 meters by 150 meters. What is its area in hectares? (1 hectare = 10,000 m²)',ch:[{letter:'A',text:'3 hectares'},{letter:'B',text:'30 hectares'},{letter:'C',text:'300 hectares'},{letter:'D',text:'0.3 hectares'}],ans:'A',sol:'**Calculate area in m², then convert to hectares.**\n\n**Step 1:** Find area in square meters:\n```\nArea = length × width = 200 m × 150 m = 30,000 m²\n```\n**Step 2:** Convert to hectares:\n```\n30,000 m² ÷ 10,000 m²/hectare = 3 hectares\n```\n**Understanding hectares:** 1 hectare = 10,000 m² = a square that is 100 m on each side (since 100 × 100 = 10,000). It\'s commonly used for land area measurement.\n\n**Verification:** 3 hectares seems reasonable for a field that\'s 200m × 150m (roughly 2 football fields in size).'},

  {pos:13,diff:'hard',text:'If 1 pound equals 0.4536 kilograms, how many pounds are approximately equal to 100 kilograms?',ch:[{letter:'A',text:'220.5 pounds'},{letter:'B',text:'45.36 pounds'},{letter:'C',text:'453.6 pounds'},{letter:'D',text:'22.05 pounds'}],ans:'A',sol:'**Divide by the conversion factor to convert kg to pounds.**\n\n**Given:** 1 lb = 0.4536 kg\n\n**Setup:** If 1 lb = 0.4536 kg, then how many lb = 100 kg?\n```\n100 kg ÷ 0.4536 kg/lb = 100/0.4536 lb\n≈ 220.5 lb\n```\n**Why division?** We divide because the conversion factor tells us how many kg per pound. To find pounds, we ask "how many 0.4536-kg units fit into 100 kg?"\n\n**Alternative approach:** Invert the conversion factor:\n```\n1 lb = 0.4536 kg means 1 kg = 1/0.4536 lb = 2.205 lb\nSo 100 kg = 100 × 2.205 = 220.5 lb\n```\nBoth methods give the same answer. Use whichever makes more sense to you!'},

  {pos:14,diff:'hard',text:'A machine produces 360 units per hour. How many units does it produce per minute?',ch:[{letter:'A',text:'6 units'},{letter:'B',text:'60 units'},{letter:'C',text:'36 units'},{letter:'D',text:'3.6 units'}],ans:'A',sol:'**Convert the rate from per hour to per minute.**\n\n```\n360 units/hour ÷ 60 minutes/hour = 6 units/minute\n```\n**Reasoning:** There are 60 minutes in an hour. If 360 units are produced over 60 minutes, then per minute:\n```\n360 ÷ 60 = 6 units/minute\n```\n**Understanding rates:** A rate like "units per hour" is divided by the number of time intervals to get "units per minute" (smaller time interval = smaller number of units produced).'},

  {pos:15,diff:'hard',text:'How many minutes are in 2.5 hours?',ch:[{letter:'A',text:'150 minutes'},{letter:'B',text:'125 minutes'},{letter:'C',text:'200 minutes'},{letter:'D',text:'250 minutes'}],ans:'A',sol:'**Multiply by 60 to convert hours to minutes.**\n\n```\n2.5 hours × 60 minutes/hour = 150 minutes\n```\n**Breakdown:**\n```\n2 hours = 120 minutes\n0.5 hours = 30 minutes\nTotal = 120 + 30 = 150 minutes\n```\n**Key fact:** 1 hour = 60 minutes exactly. When converting to a smaller unit, multiply.'},

  {pos:16,diff:'hard',text:'A cube has edges of length 10 centimeters. What is its volume in cubic meters?',ch:[{letter:'A',text:'0.001 m³'},{letter:'B',text:'0.01 m³'},{letter:'C',text:'0.1 m³'},{letter:'D',text:'1 m³'}],ans:'A',sol:'**Calculate volume in cm³, then convert to m³.**\n\n**Step 1:** Find volume in cm³:\n```\nVolume = edge³ = 10³ = 1000 cm³\n```\n**Step 2:** Convert cm³ to m³:\n```\n1 m = 100 cm\n1 m³ = (100 cm)³ = 1,000,000 cm³\n```\nTherefore:\n```\n1000 cm³ = 1000 / 1,000,000 m³ = 0.001 m³\n```\n**Critical insight:** When converting volume (cubic units), we must CUBE the linear conversion factor. Since 1 m = 100 cm, we have 1 m³ = 100³ cm³ = 1,000,000 cm³.\n\n**Common mistake:** Using 100 instead of 1,000,000 as the conversion factor.'},

  {pos:17,diff:'hard',text:'A cyclist travels 30 miles in 2 hours. What is the average speed in kilometers per hour? (1 mile ≈ 1.609 km)',ch:[{letter:'A',text:'24.14 km/h'},{letter:'B',text:'48.27 km/h'},{letter:'C',text:'18.64 km/h'},{letter:'D',text:'15 km/h'}],ans:'A',sol:'**Convert distance to km, keep time in hours, then divide.**\n\n**Step 1:** Convert miles to kilometers:\n```\n30 miles × 1.609 km/mile = 48.27 km\n```\n**Step 2:** Calculate speed:\n```\nSpeed = distance / time = 48.27 km / 2 hours = 24.14 km/h\n```\n**Alternative:** Find speed in mph first, then convert:\n```\nSpeed in mph = 30 miles / 2 hours = 15 mph\nConvert: 15 mph × 1.609 km/mile = 24.14 km/h\n```\nBoth methods work because we\'re converting the same physical quantity.'},

  {pos:18,diff:'hard',text:'How many ounces are in 3 pounds? (1 pound = 16 ounces)',ch:[{letter:'A',text:'48 ounces'},{letter:'B',text:'32 ounces'},{letter:'C',text:'36 ounces'},{letter:'D',text:'60 ounces'}],ans:'A',sol:'**Multiply by 16 to convert pounds to ounces.**\n\n```\n3 pounds × 16 ounces/pound = 48 ounces\n```\n**Reasoning:** Each pound contains 16 ounces. With 3 pounds, we have:\n```\n3 × 16 = 48 ounces\n```\n**Unit analysis:** pounds × (ounces/pound) = ounces. The pound units cancel.\n\n**Key fact:** 16 oz = 1 lb is a standard conversion in the US customary system.'},

  {pos:19,diff:'hard',text:'A recipe calls for 250 milliliters of milk. How many liters is this?',ch:[{letter:'A',text:'0.25 liters'},{letter:'B',text:'2.5 liters'},{letter:'C',text:'25 liters'},{letter:'D',text:'0.025 liters'}],ans:'A',sol:'**Divide by 1000 to convert milliliters to liters.**\n\n```\n250 mL ÷ 1000 mL/L = 0.25 L\n```\n**Understanding:** The prefix "milli-" means 1/1000, so:\n```\n1 milliliter = 1/1000 liter\n1000 milliliters = 1 liter\n```\nTherefore 250 mL is 250/1000 = 1/4 = 0.25 L.\n\n**Practical note:** 250 mL is exactly one-quarter of a liter, which is a common measurement in cooking.'},

  {pos:20,diff:'hard',text:'How many seconds are in 1.5 hours?',ch:[{letter:'A',text:'5400 seconds'},{letter:'B',text:'90 seconds'},{letter:'C',text:'900 seconds'},{letter:'D',text:'540 seconds'}],ans:'A',sol:'**Convert hours to minutes, then minutes to seconds.**\n\n**Method 1 - Two-step conversion:**\n```\n1.5 hours × 60 min/hour = 90 minutes\n90 minutes × 60 sec/min = 5400 seconds\n```\n**Method 2 - One-step conversion:**\n```\n1.5 hours × 3600 sec/hour = 5400 seconds\n```\n**Where does 3600 come from?**\n```\n1 hour = 60 minutes = 60 × 60 seconds = 3600 seconds\n```\n**Verification:** 1.5 hours = 1 hour + 30 minutes = 3600 + 1800 = 5400 seconds ✓'},

  {pos:21,diff:'hard',text:'A rectangular garden is 15 feet by 20 feet. What is its area in square meters? (1 foot ≈ 0.3048 meters)',ch:[{letter:'A',text:'27.87 m²'},{letter:'B',text:'91.44 m²'},{letter:'C',text:'300 m²'},{letter:'D',text:'9.29 m²'}],ans:'A',sol:'**Convert dimensions to meters, then calculate area.**\n\n**Step 1:** Convert feet to meters:\n```\n15 ft × 0.3048 m/ft = 4.572 m\n20 ft × 0.3048 m/ft = 6.096 m\n```\n**Step 2:** Calculate area:\n```\nArea = 4.572 m × 6.096 m = 27.87 m²\n```\n**Alternative method - convert area directly:**\n```\nArea in ft² = 15 × 20 = 300 ft²\n1 ft = 0.3048 m, so 1 ft² = (0.3048)² = 0.0929 m²\n300 ft² × 0.0929 m²/ft² = 27.87 m²\n```\nBoth methods work! When converting area, remember to square the conversion factor.'},

  {pos:22,diff:'hard',text:'If a container holds 5 cubic meters, how many liters does it hold?',ch:[{letter:'A',text:'5000 liters'},{letter:'B',text:'500 liters'},{letter:'C',text:'50 liters'},{letter:'D',text:'50,000 liters'}],ans:'A',sol:'**Multiply by 1000 to convert m³ to liters.**\n\n```\n5 m³ × 1000 L/m³ = 5000 L\n```\n**Understanding the conversion:**\n```\n1 m³ = (100 cm)³ = 1,000,000 cm³\n1 L = 1000 cm³\nTherefore: 1 m³ = 1,000,000 / 1000 = 1000 L\n```\n**Key relationship:** 1 m³ = 1000 L exactly. This is one of the most important volume conversions in the metric system.\n\n**Verification:** 5 m³ is a large volume (imagine 5 boxes, each 1m × 1m × 1m), so 5000 liters makes sense.'},

  {pos:23,diff:'hard',text:'A pipe delivers water at 40 gallons per minute. How many gallons does it deliver in 2.5 hours?',ch:[{letter:'A',text:'6000 gallons'},{letter:'B',text:'100 gallons'},{letter:'C',text:'1000 gallons'},{letter:'D',text:'4000 gallons'}],ans:'A',sol:'**Convert time to minutes, then multiply by the rate.**\n\n**Step 1:** Convert hours to minutes:\n```\n2.5 hours × 60 min/hour = 150 minutes\n```\n**Step 2:** Calculate total volume:\n```\n40 gallons/min × 150 min = 6000 gallons\n```\n**Unit analysis:** (gallons/minute) × minutes = gallons. The minute units cancel.\n\n**Understanding rates:** Rate × time = total amount. Since the rate is in gallons per minute, we need time in minutes.'},

  {pos:24,diff:'hard',text:'Convert 100°C to Fahrenheit using *F* = (9/5)*C* + 32.',ch:[{letter:'A',text:'212°F'},{letter:'B',text:'180°F'},{letter:'C',text:'200°F'},{letter:'D',text:'132°F'}],ans:'A',sol:'**Apply the Celsius-to-Fahrenheit formula.**\n\n```\n*F* = (9/5)*C* + 32\n*F* = (9/5)(100) + 32\n*F* = 180 + 32\n*F* = 212°F\n```\n**Verification:** This is the boiling point of water! Water boils at 100°C or 212°F at standard atmospheric pressure, so our answer is correct.\n\n**Understanding the formula:** The (9/5) factor converts between degree sizes (9°F = 5°C), and the +32 accounts for the different zero points (0°C = 32°F).'},

  {pos:25,diff:'hard',text:'A truck travels 240 miles in 4 hours. What is the average speed in feet per second? (1 mile = 5280 feet)',ch:[{letter:'A',text:'88 ft/s'},{letter:'B',text:'60 ft/s'},{letter:'C',text:'44 ft/s'},{letter:'D',text:'120 ft/s'}],ans:'A',sol:'**Find speed in mph, then convert to ft/s.**\n\n**Step 1:** Calculate speed in mph:\n```\nSpeed = 240 miles / 4 hours = 60 mph\n```\n**Step 2:** Convert mph to ft/s:\n```\n60 miles/hour × (5280 feet/mile) × (1 hour/3600 seconds)\n= 60 × 5280 / 3600 ft/s\n= 316,800 / 3600 ft/s\n= 88 ft/s\n```\n**Unit cancellation:**\n```\n(miles/hour) × (feet/mile) × (hour/second) = feet/second\n```\nThe miles cancel, the hours cancel, leaving feet/second.\n\n**Fun fact:** 60 mph ≈ 88 ft/s is a useful conversion to remember!'},

  {pos:26,diff:'hard',text:'How many cubic centimeters are in 0.5 cubic meters?',ch:[{letter:'A',text:'500,000 cm³'},{letter:'B',text:'50,000 cm³'},{letter:'C',text:'5,000 cm³'},{letter:'D',text:'5,000,000 cm³'}],ans:'A',sol:'**Cube the linear conversion factor for volume.**\n\n**Step 1:** Find the linear conversion:\n```\n1 m = 100 cm\n```\n**Step 2:** Cube both sides for volume:\n```\n(1 m)³ = (100 cm)³\n1 m³ = 1,000,000 cm³\n```\n**Step 3:** Apply to 0.5 m³:\n```\n0.5 m³ × 1,000,000 cm³/m³ = 500,000 cm³\n```\n**Critical principle:** Volume conversions require CUBING the linear conversion factor. If the linear conversion is 100:1, the volume conversion is 100³:1 = 1,000,000:1.\n\n**Common mistake:** Using 100 or 10,000 instead of 1,000,000.'},

  {pos:27,diff:'hard',text:'A water tank drains at 12 liters per minute. How many cubic meters drain in 30 minutes?',ch:[{letter:'A',text:'0.36 m³'},{letter:'B',text:'3.6 m³'},{letter:'C',text:'36 m³'},{letter:'D',text:'360 m³'}],ans:'A',sol:'**Calculate total volume in liters, then convert to m³.**\n\n**Step 1:** Find total liters:\n```\n12 L/min × 30 min = 360 L\n```\n**Step 2:** Convert liters to cubic meters:\n```\n360 L × (1 m³ / 1000 L) = 0.36 m³\n```\n**Understanding:** 1 m³ = 1000 L, so to convert L to m³, we divide by 1000:\n```\n360 / 1000 = 0.36 m³\n```\n**Verification:** 360 liters is less than half a cubic meter, which makes sense since 1 m³ = 1000 L.'},

  {pos:28,diff:'hard',text:'How many millimeters are in 2.5 meters?',ch:[{letter:'A',text:'2500 mm'},{letter:'B',text:'250 mm'},{letter:'C',text:'25 mm'},{letter:'D',text:'25,000 mm'}],ans:'A',sol:'**Multiply by 1000 to convert meters to millimeters.**\n\n```\n2.5 m × 1000 mm/m = 2500 mm\n```\n**Understanding metric prefixes:**\n```\n"milli-" = 1/1000\nSo 1 millimeter = 1/1000 meter\nTherefore 1 meter = 1000 millimeters\n```\n**Pattern:** When converting from a larger unit (meters) to a smaller unit (millimeters), multiply and the number gets larger.'},

  {pos:29,diff:'hard',text:'A rectangle measures 80 centimeters by 1.2 meters. What is its area in square meters?',ch:[{letter:'A',text:'0.96 m²'},{letter:'B',text:'9.6 m²'},{letter:'C',text:'96 m²'},{letter:'D',text:'0.096 m²'}],ans:'A',sol:'**Convert both dimensions to the same unit (meters), then multiply.**\n\n**Step 1:** Convert 80 cm to meters:\n```\n80 cm ÷ 100 = 0.8 m\n```\n**Step 2:** Calculate area:\n```\nArea = 0.8 m × 1.2 m = 0.96 m²\n```\n**Why convert to meters?** The question asks for area in m², so it\'s easier to convert dimensions to meters first.\n\n**Alternative:** Convert 1.2 m to 120 cm, then find area in cm² and convert:\n```\nArea = 80 cm × 120 cm = 9600 cm²\n9600 cm² ÷ 10,000 = 0.96 m²\n```\nSame answer either way!'},

  {pos:30,diff:'hard',text:'If 1 ton equals 2000 pounds, how many pounds are in 3.5 tons?',ch:[{letter:'A',text:'7000 pounds'},{letter:'B',text:'6000 pounds'},{letter:'C',text:'5000 pounds'},{letter:'D',text:'8000 pounds'}],ans:'A',sol:'**Multiply by 2000 to convert tons to pounds.**\n\n```\n3.5 tons × 2000 lb/ton = 7000 pounds\n```\n**Breakdown:**\n```\n3 tons = 6000 pounds\n0.5 tons = 1000 pounds\nTotal = 7000 pounds\n```\n**Note:** This is the US "short ton" (2000 lb), different from the metric ton (tonne = 1000 kg ≈ 2204.6 lb) or the British "long ton" (2240 lb).'},

  {pos:31,diff:'hard',text:'A square field has sides of 50 meters. What is its area in square kilometers?',ch:[{letter:'A',text:'0.0025 km²'},{letter:'B',text:'0.025 km²'},{letter:'C',text:'0.25 km²'},{letter:'D',text:'2.5 km²'}],ans:'A',sol:'**Calculate area in m², then convert to km².**\n\n**Step 1:** Find area in m²:\n```\nArea = side² = 50² = 2500 m²\n```\n**Step 2:** Convert m² to km²:\n```\n1 km = 1000 m\n1 km² = (1000 m)² = 1,000,000 m²\n```\nTherefore:\n```\n2500 m² = 2500 / 1,000,000 km² = 0.0025 km²\n```\n**Key insight:** The conversion factor for area is the SQUARE of the linear conversion. Since 1 km = 1000 m, we have 1 km² = 1,000,000 m² (not 1000 m²!).'},

  {pos:32,diff:'hard',text:'How many days are in 240 hours?',ch:[{letter:'A',text:'10 days'},{letter:'B',text:'8 days'},{letter:'C',text:'12 days'},{letter:'D',text:'15 days'}],ans:'A',sol:'**Divide by 24 to convert hours to days.**\n\n```\n240 hours ÷ 24 hours/day = 10 days\n```\n**Reasoning:** Each day contains 24 hours. To find how many days fit into 240 hours, we divide:\n```\n240 ÷ 24 = 10\n```\n**Verification:** 10 days × 24 hours/day = 240 hours ✓'},

  {pos:33,diff:'hard',text:'A storage tank holds 8000 milliliters. How many liters is this?',ch:[{letter:'A',text:'8 liters'},{letter:'B',text:'80 liters'},{letter:'C',text:'0.8 liters'},{letter:'D',text:'800 liters'}],ans:'A',sol:'**Divide by 1000 to convert milliliters to liters.**\n\n```\n8000 mL ÷ 1000 mL/L = 8 L\n```\n**Understanding:** The prefix "milli-" means 1/1000, so:\n```\n1000 milliliters = 1 liter\n```\nTherefore:\n```\n8000 mL = 8000/1000 = 8 L\n```'},

  {pos:34,diff:'hard',text:'A plane flies at 600 miles per hour. What is this speed in feet per second? (1 mile = 5280 feet)',ch:[{letter:'A',text:'880 ft/s'},{letter:'B',text:'440 ft/s'},{letter:'C',text:'1760 ft/s'},{letter:'D',text:'88 ft/s'}],ans:'A',sol:'**Convert miles to feet and hours to seconds.**\n\n```\n600 miles/hour × (5280 feet/mile) × (1 hour/3600 seconds)\n= 600 × 5280 / 3600 ft/s\n= 3,168,000 / 3600 ft/s\n= 880 ft/s\n```\n**Unit analysis:** (miles/hour) × (feet/mile) × (hour/second) = feet/second\n\n**Simplification trick:** Notice that 600/3600 = 1/6, so:\n```\n5280 / 6 = 880 ft/s\n```\n**Verification:** This is 10 times faster than 60 mph (which is 88 ft/s), and 600 is 10 times 60, so our answer checks out!'},

  {pos:35,diff:'hard',text:'How many cubic inches are in 1 cubic foot?',ch:[{letter:'A',text:'1728 cubic inches'},{letter:'B',text:'144 cubic inches'},{letter:'C',text:'12 cubic inches'},{letter:'D',text:'864 cubic inches'}],ans:'A',sol:'**Cube the linear conversion to get the volume conversion.**\n\n**Step 1:** Linear conversion:\n```\n1 foot = 12 inches\n```\n**Step 2:** Cube both sides:\n```\n(1 foot)³ = (12 inches)³\n1 ft³ = 12³ in³\n1 ft³ = 1728 in³\n```\n**Calculation:** 12³ = 12 × 12 × 12 = 144 × 12 = 1728\n\n**Visualization:** Imagine a 12-by-12-by-12 cube of 1-inch cubes. That\'s 1728 small cubes filling one cubic foot.\n\n**Common mistake:** Answering 12 or 144 (forgetting to cube all dimensions).'},

  {pos:36,diff:'hard',text:'A bottle contains 750 milliliters. How many such bottles are needed to fill a 15-liter container?',ch:[{letter:'A',text:'20 bottles'},{letter:'B',text:'15 bottles'},{letter:'C',text:'10 bottles'},{letter:'D',text:'25 bottles'}],ans:'A',sol:'**Convert to the same units, then divide.**\n\n**Method 1 - Convert liters to mL:**\n```\n15 L = 15 × 1000 = 15,000 mL\nNumber of bottles = 15,000 mL ÷ 750 mL/bottle\n= 15,000 / 750 = 20 bottles\n```\n**Method 2 - Convert mL to L:**\n```\n750 mL = 0.75 L\nNumber of bottles = 15 L ÷ 0.75 L/bottle\n= 15 / 0.75 = 20 bottles\n```\n**Simplification:** 15,000 / 750 = 15 / 0.75 = 150 / 7.5 = 1500 / 75 = 20'},

  {pos:37,diff:'hard',text:'Convert -40°C to Fahrenheit using *F* = (9/5)*C* + 32.',ch:[{letter:'A',text:'-40°F'},{letter:'B',text:'-72°F'},{letter:'C',text:'-8°F'},{letter:'D',text:'0°F'}],ans:'A',sol:'**Apply the Celsius-to-Fahrenheit formula.**\n\n```\n*F* = (9/5)*C* + 32\n*F* = (9/5)(-40) + 32\n*F* = -72 + 32\n*F* = -40°F\n```\n**Fascinating fact:** -40° is the unique temperature where Celsius and Fahrenheit scales intersect! -40°C = -40°F exactly.\n\n**Why this happens:** At -40°, the -72 from multiplying by 9/5 is exactly offset by the +32, leaving us with -40.\n\n**Verification:** This is one of the coldest temperatures humans can survive in briefly. It occurs in extreme Arctic conditions.'},

  {pos:38,diff:'hard',text:'A cylindrical tank has a radius of 2 meters and height of 5 meters. What is its volume in liters? (Volume = π*r*²*h*, π ≈ 3.14)',ch:[{letter:'A',text:'62,800 liters'},{letter:'B',text:'6,280 liters'},{letter:'C',text:'628 liters'},{letter:'D',text:'6.28 liters'}],ans:'A',sol:'**Calculate volume in m³, then convert to liters.**\n\n**Step 1:** Calculate volume using cylinder formula:\n```\nV = π*r*²*h*\nV = 3.14 × (2)² × 5\nV = 3.14 × 4 × 5\nV = 3.14 × 20\nV = 62.8 m³\n```\n**Step 2:** Convert m³ to liters:\n```\n1 m³ = 1000 L\n62.8 m³ = 62.8 × 1000 = 62,800 L\n```\n**Understanding:** A cubic meter is quite large (1m × 1m × 1m), so 62.8 m³ = 62,800 liters makes sense for a tank that\'s 4 meters in diameter and 5 meters tall.'},

  {pos:39,diff:'hard',text:'How many weeks are in 420 days?',ch:[{letter:'A',text:'60 weeks'},{letter:'B',text:'30 weeks'},{letter:'C',text:'84 weeks'},{letter:'D',text:'42 weeks'}],ans:'A',sol:'**Divide by 7 to convert days to weeks.**\n\n```\n420 days ÷ 7 days/week = 60 weeks\n```\n**Reasoning:** Each week has 7 days. To find how many complete weeks fit into 420 days:\n```\n420 ÷ 7 = 60\n```\n**Verification:** 60 weeks × 7 days/week = 420 days ✓\n\n**Note:** 60 weeks is slightly more than a year (52 weeks = 1 year), which equals about 13-14 months.'},

  {pos:40,diff:'hard',text:'A runner completes 400 meters in 50 seconds. What is the average speed in kilometers per hour?',ch:[{letter:'A',text:'28.8 km/h'},{letter:'B',text:'8 km/h'},{letter:'C',text:'48 km/h'},{letter:'D',text:'20 km/h'}],ans:'A',sol:'**Find speed in m/s, then convert to km/h.**\n\n**Step 1:** Calculate speed in m/s:\n```\nSpeed = 400 m / 50 s = 8 m/s\n```\n**Step 2:** Convert m/s to km/h:\n```\n8 m/s × (1 km / 1000 m) × (3600 s / 1 h)\n= 8 × 3600 / 1000 km/h\n= 28,800 / 1000 km/h\n= 28.8 km/h\n```\n**Useful conversion:** To convert m/s to km/h, multiply by 3.6 (since 3600/1000 = 3.6). So 8 × 3.6 = 28.8 km/h.\n\n**Verification:** 28.8 km/h is reasonable running speed (about 17-18 mph), which is fast but achievable for a 400m sprint.'},

  {pos:41,diff:'hard',text:'How many square inches are in 3 square feet?',ch:[{letter:'A',text:'432 square inches'},{letter:'B',text:'36 square inches'},{letter:'C',text:'144 square inches'},{letter:'D',text:'1296 square inches'}],ans:'A',sol:'**Square the linear conversion factor.**\n\n**Step 1:** Linear conversion:\n```\n1 foot = 12 inches\n```\n**Step 2:** Square for area:\n```\n(1 foot)² = (12 inches)²\n1 ft² = 144 in²\n```\n**Step 3:** Apply to 3 ft²:\n```\n3 ft² × 144 in²/ft² = 432 in²\n```\n**Visualization:** Each square foot contains a 12-by-12 grid of square inches = 144 square inches. With 3 square feet, we have 3 × 144 = 432 square inches.\n\n**Common mistake:** Multiplying 3 × 12 = 36, forgetting to square the conversion factor.'},

  {pos:42,diff:'hard',text:'A factory produces 2400 widgets in 8 hours. What is the production rate in widgets per minute?',ch:[{letter:'A',text:'5 widgets/min'},{letter:'B',text:'300 widgets/min'},{letter:'C',text:'30 widgets/min'},{letter:'D',text:'50 widgets/min'}],ans:'A',sol:'**Convert hours to minutes, then divide for the rate.**\n\n**Step 1:** Convert 8 hours to minutes:\n```\n8 hours × 60 min/hour = 480 minutes\n```\n**Step 2:** Calculate rate:\n```\nRate = 2400 widgets / 480 min = 5 widgets/min\n```\n**Alternative method:** Find rate per hour first:\n```\n2400 widgets / 8 hours = 300 widgets/hour\n300 widgets/hour ÷ 60 min/hour = 5 widgets/min\n```\nBoth methods give the same answer!'},

  {pos:43,diff:'hard',text:'How many grams are in 0.025 kilograms?',ch:[{letter:'A',text:'25 grams'},{letter:'B',text:'250 grams'},{letter:'C',text:'2.5 grams'},{letter:'D',text:'0.25 grams'}],ans:'A',sol:'**Multiply by 1000 to convert kg to grams.**\n\n```\n0.025 kg × 1000 g/kg = 25 g\n```\n**Understanding:** "Kilo-" means 1000, so 1 kilogram = 1000 grams.\n\n**Decimal movement:** When multiplying by 1000, move the decimal point 3 places to the right:\n```\n0.025 × 1000 = 25.0 = 25 g\n```'},

  {pos:44,diff:'hard',text:'A car uses 15 liters of fuel to travel 180 kilometers. What is the fuel consumption in liters per 100 kilometers?',ch:[{letter:'A',text:'8.33 L/100km'},{letter:'B',text:'12 L/100km'},{letter:'C',text:'15 L/100km'},{letter:'D',text:'6 L/100km'}],ans:'A',sol:'**Set up a proportion to find L per 100 km.**\n\n**Step 1:** Find consumption per km:\n```\n15 L / 180 km = 0.0833... L/km\n```\n**Step 2:** Scale to 100 km:\n```\n0.0833 L/km × 100 km = 8.33 L/100km\n```\n**Alternative - use proportion directly:**\n```\n15 L / 180 km = *x* L / 100 km\n*x* = (15 × 100) / 180\n*x* = 1500 / 180\n*x* = 8.33 L/100km\n```\n**Verification:** 8.33 L/100km is reasonable fuel economy (about 28 mpg), typical for a moderate-size car.'},

  {pos:45,diff:'hard',text:'How many meters are in 5 kilometers?',ch:[{letter:'A',text:'5000 meters'},{letter:'B',text:'500 meters'},{letter:'C',text:'50 meters'},{letter:'D',text:'50,000 meters'}],ans:'A',sol:'**Multiply by 1000 to convert km to meters.**\n\n```\n5 km × 1000 m/km = 5000 m\n```\n**Understanding:** The prefix "kilo-" means 1000, so:\n```\n1 kilometer = 1000 meters\n```\n**Pattern:** When converting from a larger unit (km) to a smaller unit (m), multiply and the number increases.'},

  {pos:46,diff:'hard',text:'A rectangular prism has dimensions 10 cm × 20 cm × 30 cm. What is its volume in liters?',ch:[{letter:'A',text:'6 liters'},{letter:'B',text:'60 liters'},{letter:'C',text:'0.6 liters'},{letter:'D',text:'600 liters'}],ans:'A',sol:'**Calculate volume in cm³, then convert to liters.**\n\n**Step 1:** Calculate volume:\n```\nVolume = length × width × height\nV = 10 cm × 20 cm × 30 cm\nV = 6000 cm³\n```\n**Step 2:** Convert cm³ to liters:\n```\n1 liter = 1000 cm³\n6000 cm³ = 6000 / 1000 = 6 L\n```\n**Key relationship:** 1 L = 1000 cm³ exactly. This is the definition of a liter.\n\n**Verification:** 6 liters is about 6 one-liter bottles, which seems reasonable for a box that\'s 10 cm × 20 cm × 30 cm.'},

  {pos:47,diff:'hard',text:'Convert 50 meters per second to kilometers per hour.',ch:[{letter:'A',text:'180 km/h'},{letter:'B',text:'50 km/h'},{letter:'C',text:'3000 km/h'},{letter:'D',text:'83.33 km/h'}],ans:'A',sol:'**Convert meters to km and seconds to hours.**\n\n```\n50 m/s × (1 km / 1000 m) × (3600 s / 1 h)\n= 50 × 3600 / 1000 km/h\n= 180,000 / 1000 km/h\n= 180 km/h\n```\n**Shortcut:** To convert m/s to km/h, multiply by 3.6:\n```\n50 m/s × 3.6 = 180 km/h\n```\n**Why 3.6?** Because 3600/1000 = 3.6\n\n**Verification:** 180 km/h ≈ 112 mph, which is fast highway speed. 50 m/s means covering 50 meters every second, so this makes sense!'},

  {pos:48,diff:'hard',text:'How many square centimeters are in 0.5 square meters?',ch:[{letter:'A',text:'5000 cm²'},{letter:'B',text:'500 cm²'},{letter:'C',text:'50 cm²'},{letter:'D',text:'50,000 cm²'}],ans:'A',sol:'**Square the linear conversion factor.**\n\n**Step 1:** Linear conversion:\n```\n1 m = 100 cm\n```\n**Step 2:** Square for area:\n```\n(1 m)² = (100 cm)²\n1 m² = 10,000 cm²\n```\n**Step 3:** Apply to 0.5 m²:\n```\n0.5 m² × 10,000 cm²/m² = 5000 cm²\n```\n**Critical insight:** When converting area, we must square the linear conversion factor. The factor is 100² = 10,000, NOT 100.\n\n**Verification:** 0.5 m² is half a square meter, which equals 5000 square centimeters.'},

  {pos:49,diff:'hard',text:'A pump moves water at 80 liters per minute. How many cubic meters does it move in 45 minutes?',ch:[{letter:'A',text:'3.6 m³'},{letter:'B',text:'36 m³'},{letter:'C',text:'360 m³'},{letter:'D',text:'0.36 m³'}],ans:'A',sol:'**Calculate total liters, then convert to cubic meters.**\n\n**Step 1:** Find total volume in liters:\n```\n80 L/min × 45 min = 3600 L\n```\n**Step 2:** Convert to cubic meters:\n```\n1 m³ = 1000 L\n3600 L = 3600 / 1000 m³ = 3.6 m³\n```\n**Unit analysis:** (liters/minute) × minutes = liters. The minute units cancel.\n\n**Verification:** 3.6 m³ is between 3 and 4 cubic meters, which is reasonable for pumping 3600 liters (since 1 m³ = 1000 L).'},

  {pos:50,diff:'hard',text:'How many hours are in 12,600 seconds?',ch:[{letter:'A',text:'3.5 hours'},{letter:'B',text:'210 hours'},{letter:'C',text:'21 hours'},{letter:'D',text:'2.1 hours'}],ans:'A',sol:'**Divide by 3600 to convert seconds to hours.**\n\n```\n12,600 seconds ÷ 3600 seconds/hour = 3.5 hours\n```\n**Where does 3600 come from?**\n```\n1 hour = 60 minutes = 60 × 60 seconds = 3600 seconds\n```\n**Calculation:**\n```\n12,600 ÷ 3600 = 126 ÷ 36 = 3.5\n```\n**Verification:** 3.5 hours = 3 hours 30 minutes = 3 × 3600 + 30 × 60 = 10,800 + 1,800 = 12,600 seconds ✓'}
];

async function run() {
  try {
    const { data: lesson, error: lessonError } = await supabase
      .from('lessons')
      .select('id')
      .eq('lesson_key', LESSON_KEY)
      .single();

    if (lessonError || !lesson) {
      console.error('Lesson not found:', LESSON_KEY);
      process.exit(1);
    }

    const lessonId = lesson.id;
    let successCount = 0;
    let errorCount = 0;

    for (const q of questions) {
      const { error } = await supabase.from('practice_questions').insert({
        lesson_id: lessonId,
        subject: 'math',
        position: q.pos,
        difficulty: q.diff,
        title: `Unit Conversion ${q.pos}`,
        problem_text: q.text,
        choices: q.ch,
        correct_answer: q.ans,
        answer_explanation: q.sol
      });

      if (error) {
        console.error(`Error inserting question ${q.pos}:`, error.message);
        errorCount++;
      } else {
        successCount++;
      }
    }

    console.log(`\n=== COMPLETE: ${successCount}/${questions.length} success, ${errorCount}/${questions.length} errors ===`);
  } catch (err) {
    console.error('Fatal error:', err);
    process.exit(1);
  }
}

run();
