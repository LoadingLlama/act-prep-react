#!/usr/bin/env node
import { createClient } from '@supabase/supabase-js';
import fs from 'fs';

const supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);

console.log('ðŸŽ¯ GENERATING COMPLETE ENGLISH SECTION (75 questions)\n');

// Load partial data
const partialData = JSON.parse(fs.readFileSync('test-8-partial.json', 'utf8'));

// Complete test with all 75 English questions
const test8Complete = {
  ...partialData,
  english: {
    passages: partialData.english.passages,
    questions: [
      ...partialData.english.questions, // Q1-45 already done

      // Passage 4 questions (Q46-60) - "The Art of Botanical Illustration"
      {
        question_number: 46,
        passage_number: 4,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "Botanical illustration occupies a unique position between art and science",
        underlined_text: ", requiring",
        context_after: "both aesthetic sensibility and scientific accuracy.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "requiring",
        choice_c: "; requiring",
        choice_d: "and requiring",
        correct_answer: "A",
        notes: "Comma before participial phrase",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 47,
        passage_number: 4,
        question_type: "verb-tense",
        question_category: "CSE",
        difficulty_level: "easy",
        context_before: "these detailed drawings",
        underlined_text: "have served",
        context_after: "as essential tools for botanists",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "served",
        choice_c: "serve",
        choice_d: "are serving",
        correct_answer: "A",
        notes: "Present perfect for action continuing from past (for centuries) to present",
        lesson_id: "10fff941-59e1-4d3a-84b7-d0fe8f9985ef"
      },
      {
        question_number: 48,
        passage_number: 4,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "enabling them to document and classify plant species with precision",
        underlined_text: "that photography cannot always achieve",
        context_after: ".",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: ", that photography cannot always achieve,",
        choice_c: "which photography cannot always achieve",
        choice_d: "that, photography cannot always achieve",
        correct_answer: "A",
        notes: "Restrictive clause with 'that' - no commas",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 49,
        passage_number: 4,
        question_type: "verb-tense",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "when European explorers",
        underlined_text: "brought",
        context_after: "back thousands of plant specimens",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "bring",
        choice_c: "were bringing",
        choice_d: "had brought",
        correct_answer: "A",
        notes: "Simple past for completed historical action",
        lesson_id: "10fff941-59e1-4d3a-84b7-d0fe8f9985ef"
      },
      {
        question_number: 50,
        passage_number: 4,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "hard",
        context_before: "Artists worked closely with scientists",
        underlined_text: ", learning",
        context_after: "to depict not just the beauty of plants",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "learning",
        choice_c: "; learning",
        choice_d: "and learning",
        correct_answer: "A",
        notes: "Comma before participial phrase",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 51,
        passage_number: 4,
        question_type: "colon",
        question_category: "CSE",
        difficulty_level: "hard",
        context_before: "but their essential characteristics",
        underlined_text: ":",
        context_after: "the arrangement of leaves, the structure of flowers, the details of seeds and fruit.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: ";",
        choice_c: ",",
        choice_d: "â€”",
        correct_answer: "A",
        notes: "Colon introduces explanatory list",
        lesson_id: "66776383-9334-4efb-bd72-74b1bbeab8ac"
      },
      {
        question_number: 52,
        passage_number: 4,
        question_type: "parallel-structure",
        question_category: "CSE",
        difficulty_level: "hard",
        context_before: "the arrangement of leaves, the structure of flowers,",
        underlined_text: "the details",
        context_after: "of seeds and fruit.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "details",
        choice_c: "detailed information",
        choice_d: "detailing",
        correct_answer: "A",
        notes: "Parallel structure: the arrangement, the structure, the details",
        lesson_id: "e6153221-e330-4db4-8cc7-9c5a1d51a301"
      },
      {
        question_number: 53,
        passage_number: 4,
        question_type: "transition",
        question_category: "POW",
        difficulty_level: "medium",
        context_before: "These illustrations became permanent records, especially important when specimens themselves degraded over time.",
        underlined_text: "Today",
        context_after: ", despite advances in photography",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "For instance, today",
        choice_c: "As a result, today",
        choice_d: "However, today",
        correct_answer: "A",
        notes: "Simple temporal transition - no additional transition needed",
        lesson_id: "7aae3763-017b-4762-ad5a-346aac1f027b"
      },
      {
        question_number: 54,
        passage_number: 4,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "Today",
        underlined_text: ", despite advances in photography and digital imaging,",
        context_after: "botanical illustration remains relevant.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "despite advances in photography and digital imaging",
        choice_c: ", despite advances in photography and digital imaging",
        choice_d: "despite advances in photography and digital imaging,",
        correct_answer: "A",
        notes: "Commas around interrupting phrase in middle of sentence",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 55,
        passage_number: 4,
        question_type: "word-choice",
        question_category: "POW",
        difficulty_level: "medium",
        context_before: "an artist can",
        underlined_text: "emphasize",
        context_after: "diagnostic features that distinguish one species from another",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "highlight",
        choice_c: "show",
        choice_d: "display",
        correct_answer: "A",
        notes: "'Emphasize' best conveys deliberate focus on key features",
        lesson_id: "04df2a09-a910-4456-8fe5-2f8e7f62c50f"
      },
      {
        question_number: 56,
        passage_number: 4,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "Sarah Chen",
        underlined_text: ", a contemporary botanical illustrator,",
        context_after: "explains her process.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "a contemporary botanical illustrator",
        choice_c: ", a contemporary botanical illustrator",
        choice_d: "a contemporary botanical illustrator,",
        correct_answer: "A",
        notes: "Appositive phrase needs commas on both sides",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 57,
        passage_number: 4,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "She begins by studying live specimens",
        underlined_text: ", making careful observations and measurements.",
        context_after: "Then she creates preliminary sketches",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "making careful observations and measurements.",
        choice_c: "; making careful observations and measurements.",
        choice_d: "and making careful observations and measurements.",
        correct_answer: "A",
        notes: "Comma before participial phrase",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 58,
        passage_number: 4,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "The final illustration",
        underlined_text: ", often rendered in watercolor,",
        context_after: "might require forty hours of meticulous work.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "often rendered in watercolor",
        choice_c: ", often rendered in watercolor",
        choice_d: "often rendered in watercolor,",
        correct_answer: "A",
        notes: "Non-restrictive clause needs commas",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 59,
        passage_number: 4,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "Museums and botanical gardens continue to commission these illustrations",
        underlined_text: ", recognizing",
        context_after: "their enduring scientific and artistic value.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "recognizing",
        choice_c: "; recognizing",
        choice_d: "and recognizing",
        correct_answer: "A",
        notes: "Comma before participial phrase",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 60,
        passage_number: 4,
        question_type: "quote-integration",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "As Chen notes,",
        underlined_text: "\"A good botanical illustration tells the truth about a plant in ways that transcend mere visual representation.\"",
        context_after: "",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "\"a good botanical illustration tells the truth about a plant in ways that transcend mere visual representation.\"",
        choice_c: "\"A good botanical illustration tells the truth about a plant in ways that transcend mere visual representation\".",
        choice_d: "a good botanical illustration tells the truth about a plant in ways that transcend mere visual representation.",
        correct_answer: "A",
        notes: "Quote is correct - capital A at start, period inside closing quote",
        lesson_id: "66776383-9334-4efb-bd72-74b1bbeab8ac"
      },

      // Passage 5 questions (Q61-75) - "Adapting to Climate Change: Coastal Communities"
      {
        question_number: 61,
        passage_number: 5,
        question_type: "verb-agreement",
        question_category: "CSE",
        difficulty_level: "easy",
        context_before: "Rising sea levels",
        underlined_text: "pose",
        context_after: "unprecedented challenges for coastal communities",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "poses",
        choice_c: "posing",
        choice_d: "has posed",
        correct_answer: "A",
        notes: "Plural subject 'levels' needs plural verb 'pose'",
        lesson_id: "10fff941-59e1-4d3a-84b7-d0fe8f9985ef"
      },
      {
        question_number: 62,
        passage_number: 5,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "As ocean waters encroach on shorelines",
        underlined_text: ", towns and cities",
        context_after: "must decide whether to defend",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "towns and cities",
        choice_c: "; towns and cities",
        choice_d: "and towns and cities",
        correct_answer: "A",
        notes: "Comma after introductory dependent clause",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 63,
        passage_number: 5,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "Miami Beach",
        underlined_text: ", Florida,",
        context_after: "has chosen the defense strategy",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "Florida",
        choice_c: ", Florida",
        choice_d: "Florida,",
        correct_answer: "A",
        notes: "State name as appositive needs commas",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 64,
        passage_number: 5,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "The city installed massive pumps to remove floodwater from streets",
        underlined_text: ", raised roads by several feet, and implemented",
        context_after: "sophisticated drainage systems.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "raised roads by several feet and implemented",
        choice_c: ", raised roads by several feet, and, implemented",
        choice_d: ", raised roads by several feet and, implemented",
        correct_answer: "A",
        notes: "Series of three items with commas",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 65,
        passage_number: 5,
        question_type: "transition",
        question_category: "POW",
        difficulty_level: "medium",
        context_before: "While expensive, these measures aim to protect property values and maintain the city's economic viability.",
        underlined_text: "Critics, however,",
        context_after: "question whether such investments merely delay inevitable relocation.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "Critics, therefore,",
        choice_c: "Critics, moreover,",
        choice_d: "Critics",
        correct_answer: "A",
        notes: "'However' shows contrast between goals and criticism",
        lesson_id: "7aae3763-017b-4762-ad5a-346aac1f027b"
      },
      {
        question_number: 66,
        passage_number: 5,
        question_type: "transition",
        question_category: "POW",
        difficulty_level: "medium",
        context_before: "Critics, however, question whether such investments merely delay inevitable relocation.",
        underlined_text: "By contrast",
        context_after: ", the village of Newtok, Alaska, has opted for retreat.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "Similarly",
        choice_c: "For example",
        choice_d: "Therefore",
        correct_answer: "A",
        notes: "'By contrast' shows comparison between different strategies",
        lesson_id: "7aae3763-017b-4762-ad5a-346aac1f027b"
      },
      {
        question_number: 67,
        passage_number: 5,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "the village of Newtok",
        underlined_text: ", Alaska,",
        context_after: "has opted for retreat.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "Alaska",
        choice_c: ", Alaska",
        choice_d: "Alaska,",
        correct_answer: "A",
        notes: "State name as appositive needs commas",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 68,
        passage_number: 5,
        question_type: "verb-tense",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "After years of planning, the community",
        underlined_text: "began",
        context_after: "relocating to a new site nine miles inland.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "begins",
        choice_c: "had begun",
        choice_d: "has begun",
        correct_answer: "A",
        notes: "Simple past for completed action",
        lesson_id: "10fff941-59e1-4d3a-84b7-d0fe8f9985ef"
      },
      {
        question_number: 69,
        passage_number: 5,
        question_type: "word-choice",
        question_category: "POW",
        difficulty_level: "medium",
        context_before: "Yet residents view it as the only",
        underlined_text: "viable",
        context_after: "long-term solution.",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "possible",
        choice_c: "reasonable",
        choice_d: "good",
        correct_answer: "A",
        notes: "'Viable' (feasible/workable) is most precise",
        lesson_id: "04df2a09-a910-4456-8fe5-2f8e7f62c50f"
      },
      {
        question_number: 70,
        passage_number: 5,
        question_type: "transition",
        question_category: "POW",
        difficulty_level: "medium",
        context_before: "Yet residents view it as the only viable long-term solution.",
        underlined_text: "A third approach, accommodation,",
        context_after: "accepts that water will increasingly intrude",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "A third approach, accommodation",
        choice_c: "A third approach accommodation,",
        choice_d: "A third approach accommodation",
        correct_answer: "A",
        notes: "Appositive needs commas on both sides",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 71,
        passage_number: 5,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "hard",
        context_before: "Rotterdam in the Netherlands has pioneered this strategy",
        underlined_text: ", creating",
        context_after: "floating parks, water plazas",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "creating",
        choice_c: "; creating",
        choice_d: "and creating",
        correct_answer: "A",
        notes: "Comma before participial phrase",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 72,
        passage_number: 5,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "hard",
        context_before: "water plazas",
        underlined_text: "that serve as recreational spaces during dry weather and retention basins during storms",
        context_after: ", and amphibious houses",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: ", that serve as recreational spaces during dry weather and retention basins during storms,",
        choice_c: "that serve as recreational spaces during dry weather, and retention basins during storms",
        choice_d: "that, serve as recreational spaces during dry weather and retention basins during storms,",
        correct_answer: "A",
        notes: "Restrictive clause - no commas around 'that' clause",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 73,
        passage_number: 5,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "medium",
        context_before: "amphibious houses",
        underlined_text: "that rise with flood waters",
        context_after: ". This approach works with nature",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: ", that rise with flood waters,",
        choice_c: "which rise with flood waters",
        choice_d: "that, rise with flood waters",
        correct_answer: "A",
        notes: "Restrictive clause - no commas",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 74,
        passage_number: 5,
        question_type: "comma-usage",
        question_category: "CSE",
        difficulty_level: "hard",
        context_before: "Each must weigh factors",
        underlined_text: "including topography, resources, and community values",
        context_after: "when charting their path forward",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "including topography resources and community values",
        choice_c: "including: topography, resources, and community values",
        choice_d: "including topography, resources and community values",
        correct_answer: "A",
        notes: "Series of three items needs commas",
        lesson_id: "3e8f0696-1bf7-4b5c-880d-fb5359923b7d"
      },
      {
        question_number: 75,
        passage_number: 5,
        question_type: "word-choice",
        question_category: "POW",
        difficulty_level: "medium",
        context_before: "when charting their path forward in an era of climate",
        underlined_text: "uncertainty",
        context_after: ".",
        question_stem: null,
        choice_a: "NO CHANGE",
        choice_b: "unpredictability",
        choice_c: "variability",
        choice_d: "change",
        correct_answer: "A",
        notes: "'Uncertainty' best captures unknown future conditions",
        lesson_id: "04df2a09-a910-4456-8fe5-2f8e7f62c50f"
      }
    ]
  }
};

console.log('âœ… COMPLETE ENGLISH SECTION GENERATED');
console.log('   â€¢ 5 passages');
console.log('   â€¢ 75 questions (Q1-75)');
console.log('   â€¢ All lesson IDs assigned\n');

fs.writeFileSync('test-8-english-complete.json', JSON.stringify(test8Complete, null, 2));
console.log('ðŸ’¾ Saved to test-8-english-complete.json');
